<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 分布式系统-实验-MapReduce · 王安正的随想集</title><meta name="description" content="分布式系统-实验-MapReduce - 王安正"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="http://oe1fr65ie.bkt.clouddn.com/avatar_lotus_small.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://focinfi.wang/atom.xml" title="王安正的随想集"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="http://oe1fr65ie.bkt.clouddn.com/avatar_lotus_small.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">文章</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">归档</a></li><li class="nav-list-item"><a href="https://github.com/Focinfi" target="_blank" class="nav-list-link">关于</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">分布式系统-实验-MapReduce</h1><div class="post-info">2017年2月17日</div><div class="post-content"><h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>通过 <a href="http://www.jianshu.com/p/32a41f48dc80" target="_blank" rel="external">分布式系统系列文章</a>，我们了解了分布式的一些基本概念，若是写点代码实践一下，那就更好了。先做个简单的实验练练手，还记得 <a href="http://www.jianshu.com/p/a71258c28ff2" target="_blank" rel="external">MapReduce</a> 吗？，本次实验中会构建一个 MapReduce 库，主要能熟悉 Go 语言外加了解分布式系统中的容错机制。首先写个一个简单的 MapReduce 程序，再写一个 Master，它不仅能分配任务给 worker 而且能处理 worker 执行错误。接口参考论文描述。</p>
<h3 id="实验环境"><a href="#实验环境" class="headerlink" title="实验环境"></a>实验环境</h3><p>不会让你从零开始撸代码啦，还不快 git clone ?</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ git clone git://g.csail.mit.edu/6.824-golabs-2016 6.824</div><div class="line">$ cd 6.824</div><div class="line">$ ls</div><div class="line">Makefile src</div></pre></td></tr></table></figure>
<p>MapReduce 代码支持顺序执行和分布式执行。顺序执行意味着 Map 先执行，当所有 Map 任务都完成了再执行 Reduce，这种模式可能效率比较低，但是比较便于调试，毕竟串行。分布式执行启动了很多 worker 线程，他们并行执行 Map 任务，然后执行 Reduce 任务，这种模式效率更高，当然更难实现和调试。</p>
<h3 id="准备：熟悉代码"><a href="#准备：熟悉代码" class="headerlink" title="准备：熟悉代码"></a>准备：熟悉代码</h3><p><code>mapreduce</code> 包提供了一个简单的 MapReduce 顺序执行实现。应用只要调用 <code>Distributed()</code> 方法就可以启动一个任务，但是要调试的时候可能需要调用 <code>Sequential()</code>.</p>
<p>mapreduce 的运行流程如下：</p>
<ol>
<li><p>应用层需要提供输入文件，一个 map 函数，一个 reduce 函数，要启动 reduce 任务的数量。</p>
</li>
<li><p>用这些参数创建一个 master。它会启动一个 RPC 服务器(master_rpc.go)，然后等待 worker 注册(<code>Register()</code>)。当有待完成的任务时，<code>schedule()</code> 就会将任务分配给 worker，同时也会进行 worker 的错误处理。</p>
</li>
<li><p>master 认为每个输入文件应当交给一个 map 任务处理，然后调用 <code>doMap()</code>，无论直接调用 <code>Sequential()</code> 还是通过 RPC 给 worker 发送 DoTask 消息都会触发这个操作。每当调用 doMap() 时，它都会去读取相应的文件，以文件内容调用 map 函数并且为每个输入文件产生 nReduce 个文件。因此，每个 map 任务最终会产生 <code>#files x nReduce</code> 个文件。  </p>
</li>
<li><p>master 接下来会对每个 reduce 任务至少调用一次 <code>doReduce()</code>。<code>doReduce()</code> 首先会收集 nReduce 个 map 任务产生的文件，然后在每个文件上执行 reduce 函数，最后产生一个结果文件。</p>
</li>
<li><p>master 会调用 <code>mr.merge()</code> 方法将上一步产生所有结果文件聚合到一个文件中。</p>
</li>
</ol>
<p>所以本次实验就是到填空题，空是：doMap, doReduce，schedule 和 reduce。</p>
<p>其他的方法基本不需要改动，有时间的研究研究有助于理解整体架构。</p>
<h3 id="Part-I-Map-Reduce-输入和输出"><a href="#Part-I-Map-Reduce-输入和输出" class="headerlink" title="Part I: Map/Reduce 输入和输出"></a>Part I: Map/Reduce 输入和输出</h3><p>第一个空 <code>doMap()</code> 函数的功能是读取指定文件的内容，执行 mapF 函数，将结果保存在新的文件中；而 <code>doReuce()</code> 读取 <code>doMap</code> 的输出文件，执行 reduceF 函数，将结果存在磁盘中。</p>
<p>写完了就测试测试，测试文件(test_test.go)已经写好了。串行模式测试可执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ cd 6.824</div><div class="line">$ export &quot;GOPATH=$PWD&quot;  </div><div class="line">$ cd &quot;$GOPATH/src/mapreduce&quot;</div><div class="line">$ setup ggo_v1.5</div><div class="line">$ go test -run Sequential mapreduce/...</div><div class="line">ok  	mapreduce	2.694s</div></pre></td></tr></table></figure>
<p>如果你看到的不是 ok，说明还有 bug 哦。在 common.go 将 debugEnbale 设置成 true，然后运行 <code>go test -run Sequential mapreduce/... -v</code>，可以看到更详细的输出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">$ env &quot;GOPATH=$PWD/../../&quot; go test -v -run Sequential mapreduce/...</div><div class="line">=== RUN   TestSequentialSingle</div><div class="line">master: Starting Map/Reduce task test</div><div class="line">Merge: read mrtmp.test-res-0</div><div class="line">master: Map/Reduce task completed</div><div class="line">--- PASS: TestSequentialSingle (1.34s)</div><div class="line">=== RUN   TestSequentialMany</div><div class="line">master: Starting Map/Reduce task test</div><div class="line">Merge: read mrtmp.test-res-0</div><div class="line">Merge: read mrtmp.test-res-1</div><div class="line">Merge: read mrtmp.test-res-2</div><div class="line">master: Map/Reduce task completed</div><div class="line">--- PASS: TestSequentialMany (1.33s)</div><div class="line">PASS</div><div class="line">ok  	mapreduce	2.672s</div></pre></td></tr></table></figure>
<h3 id="Part-II-单机词频统计"><a href="#Part-II-单机词频统计" class="headerlink" title="Part II: 单机词频统计"></a>Part II: 单机词频统计</h3><p>完成了第一部分，我们可以开始构建自己第一个 MapReduce 系统：词频统计器。没错还是填空题：mapF 和 reduceF，让 wc.go 可以统计出每个单词出现的次数。我们的测试文件里面只有英文，所以一个单词就是连续出现字母，判断一个字母参考标准库 <code>unicode.IsLetter</code>。</p>
<p>测试文件是 6.824/src/main/pg-*.txt，不妨先编译试试：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$ cd 6.824</div><div class="line">$ export &quot;GOPATH=$PWD&quot;</div><div class="line">$ cd &quot;$GOPATH/src/main&quot;</div><div class="line">$ go run wc.go master sequential pg-*.txt</div><div class="line"># command-line-arguments</div><div class="line">./wc.go:14: missing return at end of function</div><div class="line">./wc.go:21: missing return at end of function</div></pre></td></tr></table></figure>
<p>当然通过不了，毕竟空还没填呢。mapF 的参数是测试文件名和其内容，分割成单词，返回 []mapreduce.KeyValue，KeyValue：单词-频次。轮到 reduceF 函数了，它会针对每个 key(单词) 调用一次，参数是某个单词以及这个单词在所有测试文件中的 mapF 结果。</p>
<p>写好了，便可测试：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">$ cd &quot;$GOPATH/src/main&quot;</div><div class="line">$ time go run wc.go master sequential pg-*.txt</div><div class="line">master: Starting Map/Reduce task wcseq</div><div class="line">Merge: read mrtmp.wcseq-res-0</div><div class="line">Merge: read mrtmp.wcseq-res-1</div><div class="line">Merge: read mrtmp.wcseq-res-2</div><div class="line">master: Map/Reduce task completed</div><div class="line">14.59user 3.78system 0:14.81elapsed</div></pre></td></tr></table></figure>
<p>最终的结果保存在 mrtmp.wcseq 文件中。运行 <code>$ rm mrtmp.*</code> 删除所有的中间数据文件。</p>
<p>运行 <code>sort -n -k2 mrtmp.wcseq | tail -10</code>，如果看到的和下面的一样，说明你写对了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">$ </div><div class="line">he: 34077</div><div class="line">was: 37044</div><div class="line">that: 37495</div><div class="line">I: 44502</div><div class="line">in: 46092</div><div class="line">a: 60558</div><div class="line">to: 74357</div><div class="line">of: 79727</div><div class="line">and: 93990</div><div class="line">the: 154024</div></pre></td></tr></table></figure>
<p>亦可直接运行 <code>$sh ./test-wc.sh</code></p>
<blockquote>
<p>小提示: <code>strings.FieldFunc</code> 可以将一个 string 分割成多个部分，<code>strconv</code> 包中有函数可将 string 转换成 int。</p>
</blockquote>
<h3 id="Part-III-分布式-MapReduce"><a href="#Part-III-分布式-MapReduce" class="headerlink" title="Part III: 分布式 MapReduce"></a>Part III: 分布式 MapReduce</h3><p>MapReduce 让开发者最爽的地方是不需要关心代码是在多台机器并行执行的。但我们现在的实现是 master 把 map 和 reduce 任务一个一个执行。虽然这种实现模式概念上很简单，但是性能并不是很高。接下来我们来实现一个并发的 MapReduce，它会调用多个 worker 线程去执行任务，这样可以更好地利用多核CPU。当然我们的实验不是真署在多台机器上而是用 channel 去模拟分布式计算。</p>
<p>由于是并发，所以需要调度者 master 线程，它负责给 worker 分发任务，而且一直等待直到所有 worker 完成任务。为了让我们的实验更加真实，master 只能通过 RPC 的方式与 worker 通讯。worker 代码(mapreduce/worker.go)已经准备好了，它用于启动 worker。</p>
<p>下一个空是 schedule.go 中的 <code>schedule()</code>，这个方法负责给 worker 分发 map 和 reduce 任务，当所有任务完成后返回。</p>
<p>master.go 中的 <code>run()</code> 方法会先调用 <code>schedule()</code>，然后调用 <code>merge()</code> 把每个 reduce 任务的输出文件整合到一个文件里面。schedule 只需要告诉 worker 输入文件的名字 (<code>mr.files[task]</code>) 和任务 task，worker 自己知道从哪里读取也知道把结果写到哪个文件里面。master 通过 RPC 调用 <code>Worker.DoTask</code> 通知 worker 开始新任务，同时还会在 RPC 参数中包含一个 <code>DoTaskArgs</code> 对象。</p>
<p>当一个 worker 准备完毕可以工作时，它会向 master 发送一个 Register RPC，注册的同时还会把这个 worker 的相关信息放入 <code>mr.registerChannel</code>。所以 <code>schedule</code> 应该通过读取这个 channel 处理新 worker 的注册。</p>
<p>当前正在运行的 job 信息都在 Master 中定义。注意，master 不需要知道 Map 或 Reduce 具体执行的是什么代码；当一个 worker 被 wc.go 创建时就已经携带了 Map 和 Reduce 函数的信息。</p>
<p>运行 <code>$ go test -run TestBasic mapreduce/...</code> 可进行基础测试。</p>
<blockquote>
<p>小提示: master 应该并行的发送 RPC 给 worker，这样 worker 可以并发执行任务。可参考 Go RPC 文档。</p>
<p>小提示: master 应该等一个 worker 完成当前任务后马上为它分配一个新任务。等待 master 响应的线程可以用 channel 作为同步工具。Concurrency in Go 有详细的 channel 用法。</p>
<p>小提示: 跟踪 bug 最简单的方法就是在代码加入 debug()，然后执行 <code>go test -run TestBasic mapreduce/... &gt; out</code>，out 就会包含调试信息。最重要的思考你原以为的输出和真正的输出为何不一样。</p>
</blockquote>
<p>注：当前的代码试运行在一个 Unix 进程中，而且它能够利用一台机器的多核。如果是要部署在多台机器上，则要修改代码让 worker 通过 TCP 而不是 Unix-domain sockets 通讯。此外还需要一个网络文件系统共享存储。</p>
<h3 id="Part-IV-处理-worker-执行错误"><a href="#Part-IV-处理-worker-执行错误" class="headerlink" title="Part IV: 处理 worker 执行错误"></a>Part IV: 处理 worker 执行错误</h3><p>本小节要让你的 master 能够处理任务执行失败的 worker。由于 MapReduce 中 worker 并没有持久状态，所以处理起来相对容易。如果一个 worker 执行失败了，master 向 worker 发送的任何一个 RPC 都可能失败，例如超时。因此，如果失败，master 应该把这个任务指派给另为一个worker。</p>
<p>一个 RPC 失败并不一定代表 worker 失败，有可能是某个 worker 正常运行但 master 无法获取到它的信息。所以可能会出两个 worker 同时执行同一个任务。不过因为每个任务都是幂等的，一个任务被执行两次是没啥影响。</p>
<p>我们假设它不会失败，所以不需要处理 master 失败的情况。让 master 可以容错是相对困难的，因为它保持着持久的状态，当它失败后我们需要恢复它的状态以保证它可以继续工作。</p>
<p>test_test.go 还剩最后两个测试。测有一个 worker 失败的情况和有很多 worker 失败的情况。运行可测试：<code>$ go test -run Failure mapreduce/...</code></p>
<h3 id="Part-V-反向索引（可选）"><a href="#Part-V-反向索引（可选）" class="headerlink" title="Part V: 反向索引（可选）"></a>Part V: 反向索引（可选）</h3><p>挑战性：</p>
<p>词频统计虽然是 MapReduce 最经典的一个应用，但是在大规模数据应用不经常用。试试写个反向索引应用。</p>
<p>反向索引在计算机科学中使用广泛，尤其在文档搜索领域中非常有用。一般来说，一个反向索引就是一个从数据到数据特征的映射。例如，在文档搜索中，这个映射可能就是关键词与文档名称的映射。</p>
<p>main/ii.go 的整体结构跟 wc.go 相似。修改 mapF 和 reduceF 让它们创建反向索引。运行 ii.go 应该输出一个元组列表，每一行的格式如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$ go run ii.go master sequential pg-*.txt</div><div class="line">$ head -n5 mrtmp.iiseq</div><div class="line">A: 16 pg-being_ernest.txt,pg-dorian_gray.txt,pg-dracula.txt,pg-emma.txt,pg-frankenstein.txt,pg-great_expectations.txt,pg-grimm.txt,pg-huckleberry_finn.txt,pg-les_miserables.txt,pg-metamorphosis.txt,pg-moby_dick.txt,pg-sherlock_holmes.txt,pg-tale_of_two_cities.txt,pg-tom_sawyer.txt,pg-ulysses.txt,pg-war_and_peace.txt</div><div class="line">ABC: 2 pg-les_miserables.txt,pg-war_and_peace.txt</div><div class="line">ABOUT: 2 pg-moby_dick.txt,pg-tom_sawyer.txt</div><div class="line">ABRAHAM: 1 pg-dracula.txt</div><div class="line">ABSOLUTE: 1 pg-les_miserables.txt</div></pre></td></tr></table></figure>
<p>你的代码应该通过 test-ii.sh 的测试：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">$ sort -k1,1 mrtmp.iiseq | sort -snk2,2 mrtmp.iiseq | grep -v &apos;16&apos; | tail -10</div><div class="line">women: 15 pg-being_ernest.txt,pg-dorian_gray.txt,pg-dracula.txt,pg-emma.txt,pg-frankenstein.txt,pg-great_expectations.txt,pg-huckleberry_finn.txt,pg-les_miserables.txt,pg-metamorphosis.txt,pg-moby_dick.txt,pg-sherlock_holmes.txt,pg-tale_of_two_cities.txt,pg-tom_sawyer.txt,pg-ulysses.txt,pg-war_and_peace.txt</div><div class="line">won: 15 pg-being_ernest.txt,pg-dorian_gray.txt,pg-dracula.txt,pg-frankenstein.txt,pg-great_expectations.txt,pg-grimm.txt,pg-huckleberry_finn.txt,pg-les_miserables.txt,pg-metamorphosis.txt,pg-moby_dick.txt,pg-sherlock_holmes.txt,pg-tale_of_two_cities.txt,pg-tom_sawyer.txt,pg-ulysses.txt,pg-war_and_peace.txt</div><div class="line">wonderful: 15 pg-being_ernest.txt,pg-dorian_gray.txt,pg-dracula.txt,pg-emma.txt,pg-frankenstein.txt,pg-great_expectations.txt,pg-grimm.txt,pg-huckleberry_finn.txt,pg-les_miserables.txt,pg-moby_dick.txt,pg-sherlock_holmes.txt,pg-tale_of_two_cities.txt,pg-tom_sawyer.txt,pg-ulysses.txt,pg-war_and_peace.txt</div><div class="line">words: 15 pg-dorian_gray.txt,pg-dracula.txt,pg-emma.txt,pg-frankenstein.txt,pg-great_expectations.txt,pg-grimm.txt,pg-huckleberry_finn.txt,pg-les_miserables.txt,pg-metamorphosis.txt,pg-moby_dick.txt,pg-sherlock_holmes.txt,pg-tale_of_two_cities.txt,pg-tom_sawyer.txt,pg-ulysses.txt,pg-war_and_peace.txt</div><div class="line">worked: 15 pg-dorian_gray.txt,pg-dracula.txt,pg-emma.txt,pg-frankenstein.txt,pg-great_expectations.txt,pg-grimm.txt,pg-huckleberry_finn.txt,pg-les_miserables.txt,pg-metamorphosis.txt,pg-moby_dick.txt,pg-sherlock_holmes.txt,pg-tale_of_two_cities.txt,pg-tom_sawyer.txt,pg-ulysses.txt,pg-war_and_peace.txt</div><div class="line">worse: 15 pg-being_ernest.txt,pg-dorian_gray.txt,pg-dracula.txt,pg-emma.txt,pg-frankenstein.txt,pg-great_expectations.txt,pg-grimm.txt,pg-huckleberry_finn.txt,pg-les_miserables.txt,pg-moby_dick.txt,pg-sherlock_holmes.txt,pg-tale_of_two_cities.txt,pg-tom_sawyer.txt,pg-ulysses.txt,pg-war_and_peace.txt</div><div class="line">wounded: 15 pg-being_ernest.txt,pg-dorian_gray.txt,pg-dracula.txt,pg-emma.txt,pg-frankenstein.txt,pg-great_expectations.txt,pg-grimm.txt,pg-huckleberry_finn.txt,pg-les_miserables.txt,pg-moby_dick.txt,pg-sherlock_holmes.txt,pg-tale_of_two_cities.txt,pg-tom_sawyer.txt,pg-ulysses.txt,pg-war_and_peace.txt</div><div class="line">yes: 15 pg-being_ernest.txt,pg-dorian_gray.txt,pg-dracula.txt,pg-emma.txt,pg-great_expectations.txt,pg-grimm.txt,pg-huckleberry_finn.txt,pg-les_miserables.txt,pg-metamorphosis.txt,pg-moby_dick.txt,pg-sherlock_holmes.txt,pg-tale_of_two_cities.txt,pg-tom_sawyer.txt,pg-ulysses.txt,pg-war_and_peace.txt</div><div class="line">younger: 15 pg-being_ernest.txt,pg-dorian_gray.txt,pg-dracula.txt,pg-emma.txt,pg-frankenstein.txt,pg-great_expectations.txt,pg-grimm.txt,pg-huckleberry_finn.txt,pg-les_miserables.txt,pg-moby_dick.txt,pg-sherlock_holmes.txt,pg-tale_of_two_cities.txt,pg-tom_sawyer.txt,pg-ulysses.txt,pg-war_and_peace.txt</div><div class="line">yours: 15 pg-being_ernest.txt,pg-dorian_gray.txt,pg-dracula.txt,pg-emma.txt,pg-frankenstein.txt,pg-great_expectations.txt,pg-grimm.txt,pg-huckleberry_finn.txt,pg-les_miserables.txt,pg-moby_dick.txt,pg-sherlock_holmes.txt,pg-tale_of_two_cities.txt,pg-tom_sawyer.txt,pg-ulysses.txt,pg-war_and_peace.txt</div></pre></td></tr></table></figure>
<h3 id="通过全部测试"><a href="#通过全部测试" class="headerlink" title="通过全部测试"></a>通过全部测试</h3><p>运行 src/main/test-mr.sh 可测试本次实验的所有内容。如果全部通过，可以看到：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">$ sh ./test-mr.sh</div><div class="line">==&gt; Part I</div><div class="line">ok  	mapreduce	3.053s</div><div class="line"></div><div class="line">==&gt; Part II</div><div class="line">Passed test</div><div class="line"></div><div class="line">==&gt; Part III</div><div class="line">ok  	mapreduce	1.851s</div><div class="line"></div><div class="line">==&gt; Part IV</div><div class="line">ok  	mapreduce	10.650s</div><div class="line"></div><div class="line">==&gt; Part V (challenge)</div><div class="line">Passed test</div></pre></td></tr></table></figure>
</div></article></div></main><footer><div class="paginator"><a href="/2017/02/24/分布式系统-实验-Raft/" class="prev">上一篇</a><a href="/2017/02/10/分布式系统-实验-kvraft/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2017 <a href="http://focinfi.wang">王安正</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>